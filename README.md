# SOFT130002_project

19302010020 袁逸聪

# 基本功能完成情况

## 导航栏

用session实现了根据登录情况现实用户中心的功能

## 首页

轮播图随机选取三张图片，点击可进入详情页面

首页显示六张收藏最多的图片，刷新后随机显示六张图片

点击图片、标题、介绍可进入详情页面

## 浏览页

左侧实现了标题模糊搜索和单字段搜索

显示的字段取决于图库，每个字段选取图库中图片数量最多的前4个形成热门链接

上方实现了联动筛选

筛选框只会出现图库中存在的类型，没有对应图片而只在数据库存在的不会出现（因为搜也白搜）

城市字段实现联动，在国家确定之后给出有图片上传的城市

## 分页功能

浏览页、搜索页、我的收藏、我的图片共用一套页码逻辑

根据需要展示的图片数、每页展示的图片数得到页数并输出

同时只有五个页面可以选择，但随着当前页面增长，超过5号的页面会进入视野

也可以直接跳转到第一页/最后一页

不同点在于浏览页、搜索页每页显示16张图，而收藏和图片页显示6张

## 搜索页

选择标题或图片描述进行模糊搜索

图片展示方式类同浏览页

## 图片详情

点击图片后进入详细展示页面

将现实图片的标题、作者、收藏情况、主题、国家、城市、描述

无描述时会提示"The author said nothing"

未登录时可以看到收藏数，但收藏键变为登录链接

登录后可以点击收藏键进行或取消收藏

同时会刷新图标与收藏数（ajax实现，更新的收藏数准确，且不会刷新整个页面）

## 登录

以上页面可以未登录查看

用户名与密码不可为空，如果错误则提示错误（但不会告知具体错在哪里）

用户可以选择不登录直接浏览，还可以进行注册

## 注册

用户需要输入用户名、邮箱、密码、确认密码注册

用户名要求4-12位，且不可重复。重复则提醒用户修改（ajax实现，alert显示信息）

密码要求6位以上，确认密码需要和密码一致

## 上传页面

上传新图片时：

提示选择图片上传

标题、主题、国家、城市、描述为空，除描述外要求填写

主题采用选择框，给出所有其中主题

国家、城市采用文本框（以避免选项过多难以查找，如美国有16000多个城市，即便去除数据库0人口城市也上万）

文本框内容与数据库不匹配时，模糊查找给用户5个提示

国家和城市仍有联动关系，如果正确输入国家同时正确输入了其他国家的城市，并不会通过，而是认为输错了城市

修改老图片时：

自动填写图片信息，并且将提示改为修改图片、上传按钮改为修改，其他不变

## 我的图片

展示图片，每页6张，可以选择修改或删除

修改图片见上传页面

图片删除则将提示用户“删除是不可逆的”，确认后再删除

删除图片会同时将相关的搜藏数据删除（其他用户不会收藏“僵尸图”）

## 我的收藏

展示所有收藏，每页六张，只能选择删除且没有额外提示

## 登出

登出后清空session，回到登录界面

# Bonus完成情况

## 密码加盐

在注册时，生成随机10位数字作为盐值

将盐值连接到密码后面，整体用sha1()函数打散

数据库中储存打散结果与盐值，在登录时在此验证密码加盐打散后的结果而非密码本身

## 框架使用

使用Bootstrap4改进前端效果

几乎每个页面都是用了栅格模型

首页使用轮播图、我的照片使用模态框、所有表单使用按钮组等等

同时也参考了Bootstrap将class和效果对应的思想

将原本每个页面一个css的结果转为共用theme.css，存放边框风格、字体风格、大小等共用样式

## 服务器部署

使用阿里云的免费服务器完成部署,在腾讯云购买域名并将解析指向了服务器ip

外网ip：121.89.211.146(输入可直接访问本网站)

域名：3fish1tea.xyz或fishtea.xyz(输入可直接访问本网站)

服务器选用了Windos系统，通过远程连接安装了phpstudy、复制数据库和pj所需文件

# 意见和建议

感觉后半学期任务比前半学期重很多

希望能在环境安装、配置上得到更多指导（包括php、mysql、服务器）

对apache和mysql没有什么系统了解，个人感受上这比多媒体部分重要，甚至可以将多媒体教学替换成实战对应的理论介绍